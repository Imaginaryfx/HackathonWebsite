<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Support</title>
    <script defer src="http://localhost:8000/socket.io/socket.io.js"></script>
    <script defer src="css/client.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/emojionearea.min.css">
    <script src="css/emojionearea.min.js"></script>
    
</head>

<body>
    <div class="bg"></div>
    <nav>
        <img class="logo" src="css/icon.png" alt="LetsChat">
        <h1>Community Support</h1>
    </nav>

    <div class="container">
        <!-- <div class="message left">harry: bhai kaisa hai tu</div>
        <div class="message right">mayank: bhai mai acha tu bta bus</div>
        <div class="message left">harry: bhai kaisa hai tu</div>
        <div class="message right">mayank: bhai mai acha tu bta bus</div>
        <div class="message left">harry: bhai kaisa hai tu</div>
        <div class="message right">mayank: bhai mai acha tu bta bus</div> -->
    </div>

    <div class="send">


        <form action="#" id="send-container">
            <input type="text" name="messageInp" id="messageInp">
           <script>
                $(document).ready(function () {
                    $("#messageInp").emojioneArea({
                        pickerPosition: "top",

                    });
                })
            </script> 
            <button class="btn" type="submit"><i class="fa fa-paper-plane-o" aria-hidden="true"></i> Send</button>
        </form>
 
    </div>
    <!-- <script>
        const socket = io('http://localhost:8000');

const form = document.getElementById('send-container');
const messageInput = document.getElementById('messageInp');
const messageContainer = document.querySelector('.container')

var audio = new Audio('ting.mp3');

const append = (message, position)=>{
    const messageElement = document.createElement('div');
    messageElement.innerText = message;
    messageElement.classList.add('message');
    messageElement.classList.add(position)
    messageContainer.append(messageElement);
    messageContainer.scrollTop = messageContainer.scrollHeight;
    if(position == 'left'){
        // console.log('sound is playing');
        audio.play();
    }
}


form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const message = messageInput.value;
    append(`You: ${message}`, 'right');
    socket.emit('send', message);
    messageInput.value = '';
})

const name = prompt("Enter your name to join LetsChat")
socket.emit('new-user-joined', name)

socket.on('user-joined', name=>{
    append(`${name} joined the chat`, 'right');
})

socket.on('receive', data=>{
    append(`${data.name }: ${data.message}`, 'left')
})

socket.on('left', name=>{
    append(`${name } left the chat`, 'left');
})
    </script> -->
</body>

</html>